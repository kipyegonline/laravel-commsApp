(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"56Ss":function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),s=n("H2TA"),c=n("MquD"),d=o.forwardRef((function(e,t){var n=e.classes,s=e.className,d=Object(r.a)(e,["classes","className"]),l=o.useContext(c.a);return o.createElement("div",Object(a.a)({className:Object(i.a)(n.root,s,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},d))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(d)},"7Cbv":function(e,t,n){"use strict";var a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}for(var i=[],s=0;s<256;++s)i.push((s+256).toString(16).substr(1));var c=function(e,t){var n=t||0,a=i;return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){for(var r=n||0,i=0;i<16;++i)t[r+i]=a[i];return t}return c(a)}},FrwU:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},Fu9w:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-departments",function(){return n("Z+ix")}])},MPUk:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},MquD:function(e,t,n){"use strict";var a=n("q1tI"),r=a.createContext({});t.a=r},Spdj:function(e,t,n){"use strict";var a=n("Ff2n"),r=n("wx14"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),s=n("28cb"),c=n("EHdT"),d=n("H2TA"),l=o.forwardRef((function(e,t){var n=e.children,d=e.classes,l=e.className,u=e.component,p=void 0===u?"p":u,m=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(a.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=Object(c.a)(),b=Object(s.a)({props:e,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(p,Object(r.a)({className:Object(i.a)(d.root,("filled"===b.variant||"outlined"===b.variant)&&d.contained,l,b.disabled&&d.disabled,b.error&&d.error,b.filled&&d.filled,b.focused&&d.focused,b.required&&d.required,"dense"===b.margin&&d.marginDense),ref:t},m)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));t.a=Object(d.a)((function(e){return{root:Object(r.a)(Object(r.a)({color:e.palette.text.secondary},e.typography.caption),{},{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(l)},"Z+ix":function(e,t,n){"use strict";n.r(t),n.d(t,"AddUsers",(function(){return H}));var a=n("rePB"),r=n("KQm4"),o=n("o0o1"),i=n.n(o),s=n("ODXe"),c=n("q1tI"),d=n.n(c),l=n("pdwK"),u=n("1AYd"),p=n("ADg1"),m=n("Z3vd"),f=n("tRbT"),b=n("7Cbv"),g=n("Spdj"),v=n("R/WZ"),h=n("17x9"),y=n.n(h),j=n("EVdn"),O=n.n(j),x=n("/MKj"),w=n("L6Je"),P=n("eD//"),C=n("tVbE"),E=n("56Ss"),N=n("FrwU"),D=n.n(N),S=n("MPUk"),k=n.n(S),T=n("tm1B"),I=d.a.createElement,A=function(e){var t=e.depts,n=e.currentPage,a=e.perpage,r=e.sendValue,o=void 0===r?function(e){return e}:r,i=e.setEditing,s=void 0===i?function(e){return e}:i,c=Object(x.b)();return I(d.a.Fragment,null,I(P.a,null,void 0!==t?t.slice(n*a,n*a+a).map((function(e,t){return I(C.a,{key:e.id,divider:!0},t+1+n*a,".",e.department," ",I(E.a,{className:" ml-5 float-right"},I(D.a,{color:"secondary",onClick:function(){return t=e.id,void(confirm("Are you sure about it?")&&(console.log(t),c(T.b(t)),fetch("../../server/departments/departments.php?deletedept=true&id=".concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("delete",e)}))));var t}})," ","|"," ",I(k.a,{color:"primary",onClick:function(){return function(e){o(e),s(!0)}(e)}})))})):""))};A.defautlProps={depts:[]};var R=A,V=(n("9jvC"),d.a.createElement);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var M=function(e){var t=e.data,n=void 0===t?{}:t,r=e.fetchDepts,o=void 0===r?function(e){return e}:r,i=d.a.useRef(null),c=d.a.useState(""),f=Object(s.a)(c,2),b=f[0],v=f[1],h=d.a.useState(""),y=Object(s.a)(h,2),j=y[0],x=y[1],w=d.a.useState(""),P=Object(s.a)(w,2),C=P[0],E=P[1],N=d.a.useState(""),D=Object(s.a)(N,2),S=D[0],k=D[1];return d.a.useEffect((function(){E(n.department),k(n.altName)}),[n]),void 0!==n?V("div",{className:"row"},V("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault();var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{department:C,altName:S});O.a.ajax({url:"../../server/departments/departments.php?editdept=true",dataType:"json",data:t,type:"POST"}).then((function(e){if(200!==e.status)throw new Error(e.msg);o(),v(e.msg),setTimeout((function(){E(""),k(""),v(""),n={}}),4e3)})).catch((function(e){void 0===e.message?x("Error updating.Try again later"):x(e.message),setTimeout((function(){return x("")}),3e3)}))},ref:i},V(p.a,{className:"my-1"},V(u.a,null,"Department"),V(l.a,{autoFocus:!0,onChange:function(e){return E(e.target.value)},id:"dept",placeholder:"",value:C,inputProps:{"aria-label":"description"}})),V(p.a,null,V(u.a,null,"Short name"),V(l.a,{id:"nickname",onChange:function(e){return k(e.target.value)},placeholder:"",inputProps:{"aria-label":"description"},value:S})),V(g.a,{className:"text-success ml-2 my-2"},b),V(g.a,{className:"text-danger ml-2 mb-2"},j),V(m.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Edit Department"))):null},F=d.a.createElement;function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=Object(v.a)({grid:{minWidth:360,width:"32%"}});t.default=function(){var e=d.a.useState(0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=d.a.useState({}),o=Object(s.a)(r,2),c=o[0],l=o[1],u=d.a.useState(!1),p=Object(s.a)(u,2),m=p[0],b=p[1],g=_(),v=Object(x.c)((function(e){return{departments:e.departments.departments}})).departments,h=Object(x.b)(),y=function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(fetch("../server/departments/departments.php?fetchdepts=true"));case 3:if(!(e=n.sent).ok){n.next=9;break}return n.next=7,i.a.awrap(e.json());case 7:t=n.sent,h(T.a(t));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log("fetch error");case 14:case"end":return n.stop()}}),null,null,[[0,11]],Promise)};return d.a.useEffect((function(){y()}),[]),F(w.a,null,F(f.a,{className:"jumbotron",spacing:3,justify:"center",alignItems:"flex-start",container:!0},F(f.a,{item:!0,className:"card ".concat(g.grid," "),xs:!0},F(H,{fetchDepts:y})),F(f.a,{item:!0,className:"card ".concat(g.grid),xs:!0},F("p",{className:"text-center alert alert-primary my-2"}," ",v.length," Departments"),F(R,{depts:v,sendValue:l,currentPage:n,perpage:10,setEditing:b}),v.length>10?F(B,{dataset:v,currentPage:n,setCurrentPage:a}):null),F(f.a,{item:!0,className:"card ".concat(g.grid," my-2"),xs:!0},m?F(M,{data:c,setEditing:l,fetchDepts:y}):null)))};var H=function(e){var t=e.fetchDepts,n=Object(c.useState)(""),a=n[0],r=n[1],o=Object(c.useState)(""),i=o[0],s=o[1],f=Object(c.useState)(""),v=f[0],h=f[1],y=Object(c.useState)(""),j=y[0],x=y[1],w=d.a.useRef();return F("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault(),v.trim().length>0?O.a.ajax({url:"../server/departments/departments.php?adddept=true",type:"POST",dataType:"json",data:{department:v,altName:j,altId:Object(b.a)()}}).then((function(e){if(console.log(e,"feed"),200!==e.status)throw s(""),new Error("Error adding department. Try again later.");s(e.msg),t(),setTimeout((function(){x(""),h(""),w.current.reset(),s("")}),1e3)})).catch((function(e){void 0!==e.message?r(e.message):r("Encountered a connection error.Try again"),console.log(e.message),setTimeout((function(){return r("")}),3e3)})):(r("Add a department"),setTimeout((function(){return r("")}),3e3))},ref:w},F("p",null,"Add company departments"),F(p.a,{className:"my-3"},F(u.a,null,"Add Department"),F(l.a,{onChange:function(e){return h(e.target.value)},id:"dept",placeholder:"",variant:"filled",inputProps:{"aria-label":"description"}})),F(p.a,null,F(u.a,null,"Department short name"),F(l.a,{id:"nickname",onChange:function(e){return x(e.target.value)},placeholder:"",variant:"outlined",inputProps:{"aria-label":"description"}})),F(g.a,{className:"text-success ml-2 my-2"},i),F(g.a,{className:"text-danger ml-2 mb-2"},a),F(m.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Add Department"))};y.a.AddUsers={fetchDepts:y.a.func.isRequired};var z={display:"flex",justifyContent:"center",alignItems:"center"},B=function(e){var t=e.dataset,n=e.setCurrentPage,a=d.a.useState([]),o=Object(s.a)(a,2),i=o[0],c=o[1];d.a.useEffect((function(){var e=function(e,t){var n=Math.ceil(e.length/t);return n=Object(r.a)(Array(n)).map((function(e,t){return 0===t?{clicked:!0,num:t}:{clicked:!1,num:t}}))}(t,10);c(e)}),[]);return F("div",{style:z},i.map((function(e){return F("span",{className:"text-center",style:(t=e.clicked,{width:40,display:"inline-block",background:"red",padding:".5rem",margin:".5rem",textAlign:"center",lineHeight:"1em",border:"2px solid red",backgroundColor:t?"red":"transparent",color:t?"white":"",height:40,borderRadius:"50%"}),key:e.num,onClick:function(){return function(e){n(e),c(i.map((function(t){return t.num===e?U({},t,{clicked:!0}):U({},t,{clicked:!1})})))}(e.num)}},e.num+1);var t})))}},"eD//":function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),s=n("H2TA"),c=n("MquD"),d=o.forwardRef((function(e,t){var n=e.children,s=e.classes,d=e.className,l=e.component,u=void 0===l?"ul":l,p=e.dense,m=void 0!==p&&p,f=e.disablePadding,b=void 0!==f&&f,g=e.subheader,v=Object(r.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),h=o.useMemo((function(){return{dense:m}}),[m]);return o.createElement(c.a.Provider,{value:h},o.createElement(u,Object(a.a)({className:Object(i.a)(s.root,d,m&&s.dense,!b&&s.padding,g&&s.subheader),ref:t},v),g,n))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(d)},tVbE:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),s=n("H2TA"),c=n("VD++"),d=n("ucBr"),l=n("bfFb"),u=n("MquD"),p=n("i8i4"),m="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var n=e.alignItems,s=void 0===n?"center":n,f=e.autoFocus,b=void 0!==f&&f,g=e.button,v=void 0!==g&&g,h=e.children,y=e.classes,j=e.className,O=e.component,x=e.ContainerComponent,w=void 0===x?"li":x,P=e.ContainerProps,C=(P=void 0===P?{}:P).className,E=Object(r.a)(P,["className"]),N=e.dense,D=void 0!==N&&N,S=e.disabled,k=void 0!==S&&S,T=e.disableGutters,I=void 0!==T&&T,A=e.divider,R=void 0!==A&&A,V=e.focusVisibleClassName,q=e.selected,M=void 0!==q&&q,F=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),L=o.useContext(u.a),U={dense:D||L.dense||!1,alignItems:s},_=o.useRef(null);m((function(){b&&_.current&&_.current.focus()}),[b]);var H=o.Children.toArray(h),z=H.length&&Object(d.a)(H[H.length-1],["ListItemSecondaryAction"]),B=o.useCallback((function(e){_.current=p.findDOMNode(e)}),[]),$=Object(l.a)(B,t),Z=Object(a.a)({className:Object(i.a)(y.root,j,U.dense&&y.dense,!I&&y.gutters,R&&y.divider,k&&y.disabled,v&&y.button,"center"!==s&&y.alignItemsFlexStart,z&&y.secondaryAction,M&&y.selected),disabled:k},F),J=O||"li";return v&&(Z.component=O||"div",Z.focusVisibleClassName=Object(i.a)(y.focusVisible,V),J=c.a),z?(J=Z.component||O?J:"div","li"===w&&("li"===J?J="div":"li"===Z.component&&(Z.component="div")),o.createElement(u.a.Provider,{value:U},o.createElement(w,Object(a.a)({className:Object(i.a)(y.container,C),ref:$},E),o.createElement(J,Z,H),H.pop()))):o.createElement(u.a.Provider,{value:U},o.createElement(J,Object(a.a)({ref:$},Z),H))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)}},[["Fu9w",0,2,7,1,3,4,5]]]);