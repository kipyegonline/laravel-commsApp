_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"56Ss":function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("MquD"),u=o.forwardRef((function(e,t){var a=e.classes,s=e.className,u=Object(r.a)(e,["classes","className"]),d=o.useContext(c.a);return o.createElement("div",Object(n.a)({className:Object(i.a)(a.root,s,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},u))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(u)},"7Cbv":function(e,t,a){"use strict";var n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var i=[],s=0;s<256;++s)i.push((s+256).toString(16).substr(1));var c=function(e,t){var a=t||0,n=i;return(n[e[a+0]]+n[e[a+1]]+n[e[a+2]]+n[e[a+3]]+"-"+n[e[a+4]]+n[e[a+5]]+"-"+n[e[a+6]]+n[e[a+7]]+"-"+n[e[a+8]]+n[e[a+9]]+"-"+n[e[a+10]]+n[e[a+11]]+n[e[a+12]]+n[e[a+13]]+n[e[a+14]]+n[e[a+15]]).toLowerCase()};t.a=function(e,t,a){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){for(var r=a||0,i=0;i<16;++i)t[r+i]=n[i];return t}return c(n)}},FrwU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},Fu9w:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-departments",function(){return a("Z+ix")}])},MPUk:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},MquD:function(e,t,a){"use strict";var n=a("q1tI"),r=n.createContext({});t.a=r},SBsC:function(e,t,a){"use strict";var n=a("o0o1"),r=a.n(n),o=a("HaE+"),i=a("vDqi"),s=a.n(i),c=a("tm1B");function u(){return(u=Object(o.a)(r.a.mark((function e(t,a){var n,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.get(t);case 3:if(!(null===(o=e.sent)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.length)&&!Array.isArray(o.data)){e.next=8;break}a(c.a),e.next=9;break;case 8:throw new Error("No data found...");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a(c.f(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}t.a=function(e,t){return u.apply(this,arguments)}},"Z+ix":function(e,t,a){"use strict";a.r(t),a.d(t,"AddUsers",(function(){return H}));var n=a("ODXe"),r=a("q1tI"),o=a.n(r),i=a("pdwK"),s=a("1AYd"),c=a("ADg1"),u=a("Z3vd"),d=a("tRbT"),l=a("ZiQX"),m=a("l1im"),p=a("7Cbv"),f=a("Spdj"),g=a("R/WZ"),b=a("17x9"),v=a.n(b),h=a("EVdn"),y=a.n(h),j=a("/MKj"),O=a("SBsC"),x=a("L6Je"),w=a("vDqi"),N=a.n(w),C=a("eD//"),E=a("tVbE"),D=a("56Ss"),S=a("FrwU"),P=a.n(S),k=a("MPUk"),I=a.n(k),T=a("tm1B"),V=o.a.createElement,A=function(e){var t=e.depts,a=e.currentPage,n=e.perpage,r=e.sendValue,i=void 0===r?function(e){return e}:r,s=e.setEditing,c=void 0===s?function(e){return e}:s,u=Object(j.b)();return V(o.a.Fragment,null,V(C.a,null,void 0!==t?t.slice(a*n,a*n+n).map((function(e,t){return V(E.a,{key:e.id,divider:!0},t+1+a*n,".",e.department," ",V(D.a,{className:" ml-5 float-right"},V(P.a,{color:"secondary",onClick:function(){return t=e.id,void(confirm("Are you sure about it?")&&(console.log(t),u(T.b(t)),N.a.get("/departments/deletedept/".concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("delete",e)}))));var t}})," ","|"," ",V(I.a,{color:"primary",onClick:function(){return function(e){i(e),c(!0)}(e)}})))})):""))};A.defautlProps={depts:[]};var R=A,M=(a("9jvC"),a("rePB")),q=o.a.createElement;function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=function(e){var t=e.data,a=void 0===t?{}:t,r=e.fetchDepts,d=void 0===r?function(e){return e}:r,l=o.a.useRef(null),m=o.a.useState(""),p=Object(n.a)(m,2),g=p[0],b=p[1],v=o.a.useState(""),h=Object(n.a)(v,2),y=h[0],j=h[1],O=o.a.useState(""),x=Object(n.a)(O,2),w=x[0],C=x[1],E=o.a.useState(""),D=Object(n.a)(E,2),S=D[0],P=D[1];return o.a.useEffect((function(){C(a.department),P(a.altName)}),[a]),void 0!==a?q("div",{className:"row"},q("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault();var t=_(_({},a),{},{department:w,altName:S});N.a.post("/departments/editdept/true",_({},t)).then((function(e){if(200!==e.status)throw new Error(e.msg);d(),b(e.msg),setTimeout((function(){C(""),P(""),b("")}),4e3)})).catch((function(e){void 0===e.message?j("Error updating.Try again later"):j(e.message),setTimeout((function(){return j("")}),3e3)}))},ref:l},q(c.a,{className:"my-1"},q(s.a,null,"Department"),q(i.a,{autoFocus:!0,onChange:function(e){return C(e.target.value)},id:"dept",placeholder:"",value:w,inputProps:{"aria-label":"description"}})),q(c.a,null,q(s.a,null,"Short name"),q(i.a,{id:"nickname",onChange:function(e){return P(e.target.value)},placeholder:"",inputProps:{"aria-label":"description"},value:S})),q(f.a,{className:"text-success ml-2 my-2"},g),q(f.a,{className:"text-danger ml-2 mb-2"},y),q(u.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Edit Department"))):null},B=a("iae6"),L=o.a.createElement,z=Object(g.a)({grid:{minWidth:360,width:"32%"}});t.default=function(){var e=o.a.useState({}),t=Object(n.a)(e,2),a=t[0],r=t[1],i=o.a.useState(!1),s=Object(n.a)(i,2),c=s[0],u=s[1],p=o.a.useState(0),f=Object(n.a)(p,2),g=f[0],b=f[1],v=z(),h=Object(j.c)((function(e){return{departments:e.departments.departments,errormsg:e.departments.errorMsg}})),y=h.departments,w=h.errormsg,N=y.length<10?y.length:10,C=Math.ceil(y.length/N),E=Object(j.b)();return o.a.useEffect((function(){Object(O.a)("/departments/fetchdepts",E)}),[]),L(x.a,null,L(d.a,{className:"jumbotron",spacing:3,justify:"center",alignItems:"flex-start",container:!0},L(d.a,{item:!0,className:"card ".concat(v.grid," "),xs:!0},L(H,{fetchDepts:O.a})),L(d.a,{item:!0,className:"card ".concat(v.grid),xs:!0},L("p",{className:"text-center alert alert-primary my-2"}," ",y.length||""," Departments"),y.length?L(R,{depts:y,sendValue:r,currentPage:g,perpage:N,setEditing:u}):w?L("div",{className:"p-4"},L(l.a,{severity:"error"}," ",L("p",null,w))):L("div",{className:"mx-auto my-4 text-center p-4"},L(B.a,{color:"primary",size:"3rem"})),y.length>10?L(m.a,{count:C,color:"primary",rounded:!0,page:g+1,defaultValue:1,onChange:function(e,t){return b(t-1)}}):null),L(d.a,{item:!0,className:"card ".concat(v.grid," my-2"),xs:!0},c?L(U,{data:a,setEditing:r,fetchDepts:fetchDepts}):null)))};var H=function(e){e.FetchDepts;var t=Object(r.useState)(""),a=t[0],n=t[1],d=Object(r.useState)(""),l=d[0],m=d[1],g=Object(r.useState)(""),b=g[0],v=g[1],h=Object(r.useState)(""),j=h[0],O=h[1],x=o.a.useRef();return L("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault(),b.trim().length>0?y.a.ajax({url:"../server/departments/departments.php?adddept=true",type:"POST",dataType:"json",data:{department:b,altName:j,altId:Object(p.a)()}}).then((function(e){if(console.log(e,"feed"),200!==e.status)throw m(""),new Error("Error adding department. Try again later.");m(e.msg),fetchDepts(),setTimeout((function(){O(""),v(""),x.current.reset(),m("")}),1e3)})).catch((function(e){void 0!==e.message?n(e.message):n("Encountered a connection error.Try again"),console.log(e.message),setTimeout((function(){return n("")}),3e3)})):(n("Add a department"),setTimeout((function(){return n("")}),3e3))},ref:x},L("p",null,"Add company departments"),L(c.a,{className:"my-3"},L(s.a,null,"Add Department"),L(i.a,{onChange:function(e){return v(e.target.value)},id:"dept",placeholder:"",variant:"filled",inputProps:{"aria-label":"description"}})),L(c.a,null,L(s.a,null,"Department short name"),L(i.a,{id:"nickname",onChange:function(e){return O(e.target.value)},placeholder:"",variant:"outlined",inputProps:{"aria-label":"description"}})),L(f.a,{className:"text-success ml-2 my-2"},l),L(f.a,{className:"text-danger ml-2 mb-2"},a),L(u.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Add Department"))};v.a.AddUsers={fetchDepts:v.a.func.isRequired}},"eD//":function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("MquD"),u=o.forwardRef((function(e,t){var a=e.children,s=e.classes,u=e.className,d=e.component,l=void 0===d?"ul":d,m=e.dense,p=void 0!==m&&m,f=e.disablePadding,g=void 0!==f&&f,b=e.subheader,v=Object(r.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),h=o.useMemo((function(){return{dense:p}}),[p]);return o.createElement(c.a.Provider,{value:h},o.createElement(l,Object(n.a)({className:Object(i.a)(s.root,u,p&&s.dense,!g&&s.padding,b&&s.subheader),ref:t},v),b,a))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(u)},tVbE:function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("VD++"),u=a("ucBr"),d=a("bfFb"),l=a("MquD"),m=a("i8i4"),p="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var a=e.alignItems,s=void 0===a?"center":a,f=e.autoFocus,g=void 0!==f&&f,b=e.button,v=void 0!==b&&b,h=e.children,y=e.classes,j=e.className,O=e.component,x=e.ContainerComponent,w=void 0===x?"li":x,N=e.ContainerProps,C=(N=void 0===N?{}:N).className,E=Object(r.a)(N,["className"]),D=e.dense,S=void 0!==D&&D,P=e.disabled,k=void 0!==P&&P,I=e.disableGutters,T=void 0!==I&&I,V=e.divider,A=void 0!==V&&V,R=e.focusVisibleClassName,M=e.selected,q=void 0!==M&&M,F=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),_=o.useContext(l.a),U={dense:S||_.dense||!1,alignItems:s},B=o.useRef(null);p((function(){g&&B.current&&B.current.focus()}),[g]);var L=o.Children.toArray(h),z=L.length&&Object(u.a)(L[L.length-1],["ListItemSecondaryAction"]),H=o.useCallback((function(e){B.current=m.findDOMNode(e)}),[]),Z=Object(d.a)(H,t),X=Object(n.a)({className:Object(i.a)(y.root,j,U.dense&&y.dense,!T&&y.gutters,A&&y.divider,k&&y.disabled,v&&y.button,"center"!==s&&y.alignItemsFlexStart,z&&y.secondaryAction,q&&y.selected),disabled:k},F),$=O||"li";return v&&(X.component=O||"div",X.focusVisibleClassName=Object(i.a)(y.focusVisible,R),$=c.a),z?($=X.component||O?$:"div","li"===w&&("li"===$?$="div":"li"===X.component&&(X.component="div")),o.createElement(l.a.Provider,{value:U},o.createElement(w,Object(n.a)({className:Object(i.a)(y.container,C),ref:Z},E),o.createElement($,X,L),L.pop()))):o.createElement(l.a.Provider,{value:U},o.createElement($,Object(n.a)({ref:Z},X),L))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)},yCxk:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI");function r(e){var t=e.controlled,a=e.default,r=(e.name,e.state,n.useRef(void 0!==t).current),o=n.useState(a),i=o[0],s=o[1];return[r?t:i,n.useCallback((function(e){r||s(e)}),[])]}}},[["Fu9w",0,1,10,2,3,4,5,6,7,8]]]);