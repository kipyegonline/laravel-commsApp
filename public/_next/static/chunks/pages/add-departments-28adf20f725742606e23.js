_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"56Ss":function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),c=n("H2TA"),s=n("MquD"),d=o.forwardRef((function(e,t){var n=e.classes,c=e.className,d=Object(r.a)(e,["classes","className"]),l=o.useContext(s.a);return o.createElement("div",Object(a.a)({className:Object(i.a)(n.root,c,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},d))}));t.a=Object(c.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(d)},"7Cbv":function(e,t,n){"use strict";var a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}for(var i=[],c=0;c<256;++c)i.push((c+256).toString(16).substr(1));var s=function(e,t){var n=t||0,a=i;return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()};t.a=function(e,t,n){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){for(var r=n||0,i=0;i<16;++i)t[r+i]=a[i];return t}return s(a)}},FrwU:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},Fu9w:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-departments",function(){return n("Z+ix")}])},MPUk:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),o=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},MquD:function(e,t,n){"use strict";var a=n("q1tI"),r=a.createContext({});t.a=r},Spdj:function(e,t,n){"use strict";var a=n("Ff2n"),r=n("wx14"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),c=n("28cb"),s=n("EHdT"),d=n("H2TA"),l=o.forwardRef((function(e,t){var n=e.children,d=e.classes,l=e.className,u=e.component,p=void 0===u?"p":u,m=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(a.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=Object(s.a)(),b=Object(c.a)({props:e,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(p,Object(r.a)({className:Object(i.a)(d.root,("filled"===b.variant||"outlined"===b.variant)&&d.contained,l,b.disabled&&d.disabled,b.error&&d.error,b.filled&&d.filled,b.focused&&d.focused,b.required&&d.required,"dense"===b.margin&&d.marginDense),ref:t},m)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));t.a=Object(d.a)((function(e){return{root:Object(r.a)(Object(r.a)({color:e.palette.text.secondary},e.typography.caption),{},{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(l)},"Z+ix":function(e,t,n){"use strict";n.r(t),n.d(t,"AddUsers",(function(){return B}));var a=n("rePB"),r=n("KQm4"),o=n("o0o1"),i=n.n(o),c=n("HaE+"),s=n("ODXe"),d=n("q1tI"),l=n.n(d),u=n("pdwK"),p=n("1AYd"),m=n("ADg1"),f=n("Z3vd"),b=n("tRbT"),g=n("7Cbv"),v=n("Spdj"),h=n("R/WZ"),y=n("17x9"),j=n.n(y),O=n("EVdn"),x=n.n(O),w=n("/MKj"),E=n("L6Je"),N=n("eD//"),C=n("tVbE"),P=n("56Ss"),D=n("FrwU"),S=n.n(D),k=n("MPUk"),T=n.n(k),I=n("tm1B"),A=l.a.createElement,R=function(e){var t=e.depts,n=e.currentPage,a=e.perpage,r=e.sendValue,o=void 0===r?function(e){return e}:r,i=e.setEditing,c=void 0===i?function(e){return e}:i,s=Object(w.b)();return A(l.a.Fragment,null,A(N.a,null,void 0!==t?t.slice(n*a,n*a+a).map((function(e,t){return A(C.a,{key:e.id,divider:!0},t+1+n*a,".",e.department," ",A(P.a,{className:" ml-5 float-right"},A(S.a,{color:"secondary",onClick:function(){return t=e.id,void(confirm("Are you sure about it?")&&(console.log(t),s(I.b(t)),fetch("../../server/departments/departments.php?deletedept=true&id=".concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("delete",e)}))));var t}})," ","|"," ",A(T.a,{color:"primary",onClick:function(){return function(e){o(e),c(!0)}(e)}})))})):""))};R.defautlProps={depts:[]};var V=R,q=(n("9jvC"),l.a.createElement);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.data,n=void 0===t?{}:t,a=e.fetchDepts,r=void 0===a?function(e){return e}:a,o=l.a.useRef(null),i=l.a.useState(""),c=Object(s.a)(i,2),d=c[0],b=c[1],g=l.a.useState(""),h=Object(s.a)(g,2),y=h[0],j=h[1],O=l.a.useState(""),w=Object(s.a)(O,2),E=w[0],N=w[1],C=l.a.useState(""),P=Object(s.a)(C,2),D=P[0],S=P[1];return l.a.useEffect((function(){N(n.department),S(n.altName)}),[n]),void 0!==n?q("div",{className:"row"},q("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault();var t=F(F({},n),{},{department:E,altName:D});x.a.ajax({url:"../../server/departments/departments.php?editdept=true",dataType:"json",data:t,type:"POST"}).then((function(e){if(200!==e.status)throw new Error(e.msg);r(),b(e.msg),setTimeout((function(){N(""),S(""),b(""),n={}}),4e3)})).catch((function(e){void 0===e.message?j("Error updating.Try again later"):j(e.message),setTimeout((function(){return j("")}),3e3)}))},ref:o},q(m.a,{className:"my-1"},q(p.a,null,"Department"),q(u.a,{autoFocus:!0,onChange:function(e){return N(e.target.value)},id:"dept",placeholder:"",value:E,inputProps:{"aria-label":"description"}})),q(m.a,null,q(p.a,null,"Short name"),q(u.a,{id:"nickname",onChange:function(e){return S(e.target.value)},placeholder:"",inputProps:{"aria-label":"description"},value:D})),q(v.a,{className:"text-success ml-2 my-2"},d),q(v.a,{className:"text-danger ml-2 mb-2"},y),q(f.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Edit Department"))):null},L=l.a.createElement;function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=Object(h.a)({grid:{minWidth:360,width:"32%"}});t.default=function(){var e=l.a.useState(0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=l.a.useState({}),o=Object(s.a)(r,2),d=o[0],u=o[1],p=l.a.useState(!1),m=Object(s.a)(p,2),f=m[0],g=m[1],v=z(),h=Object(w.c)((function(e){return{departments:e.departments.departments}})).departments,y=Object(w.b)(),j=function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("../server/departments/departments.php?fetchdepts=true");case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:n=e.sent,y(I.a(n));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("fetch error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){j()}),[]),L(E.a,null,L(b.a,{className:"jumbotron",spacing:3,justify:"center",alignItems:"flex-start",container:!0},L(b.a,{item:!0,className:"card ".concat(v.grid," "),xs:!0},L(B,{fetchDepts:j})),L(b.a,{item:!0,className:"card ".concat(v.grid),xs:!0},L("p",{className:"text-center alert alert-primary my-2"}," ",h.length," Departments"),L(V,{depts:h,sendValue:u,currentPage:n,perpage:10,setEditing:g}),h.length>10?L(Z,{dataset:h,currentPage:n,setCurrentPage:a}):null),L(b.a,{item:!0,className:"card ".concat(v.grid," my-2"),xs:!0},f?L(_,{data:d,setEditing:u,fetchDepts:j}):null)))};var B=function(e){var t=e.fetchDepts,n=Object(d.useState)(""),a=n[0],r=n[1],o=Object(d.useState)(""),i=o[0],c=o[1],s=Object(d.useState)(""),b=s[0],h=s[1],y=Object(d.useState)(""),j=y[0],O=y[1],w=l.a.useRef();return L("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault(),b.trim().length>0?x.a.ajax({url:"../server/departments/departments.php?adddept=true",type:"POST",dataType:"json",data:{department:b,altName:j,altId:Object(g.a)()}}).then((function(e){if(console.log(e,"feed"),200!==e.status)throw c(""),new Error("Error adding department. Try again later.");c(e.msg),t(),setTimeout((function(){O(""),h(""),w.current.reset(),c("")}),1e3)})).catch((function(e){void 0!==e.message?r(e.message):r("Encountered a connection error.Try again"),console.log(e.message),setTimeout((function(){return r("")}),3e3)})):(r("Add a department"),setTimeout((function(){return r("")}),3e3))},ref:w},L("p",null,"Add company departments"),L(m.a,{className:"my-3"},L(p.a,null,"Add Department"),L(u.a,{onChange:function(e){return h(e.target.value)},id:"dept",placeholder:"",variant:"filled",inputProps:{"aria-label":"description"}})),L(m.a,null,L(p.a,null,"Department short name"),L(u.a,{id:"nickname",onChange:function(e){return O(e.target.value)},placeholder:"",variant:"outlined",inputProps:{"aria-label":"description"}})),L(v.a,{className:"text-success ml-2 my-2"},i),L(v.a,{className:"text-danger ml-2 mb-2"},a),L(f.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Add Department"))};j.a.AddUsers={fetchDepts:j.a.func.isRequired};var $={display:"flex",justifyContent:"center",alignItems:"center"},Z=function(e){var t=e.dataset,n=e.setCurrentPage,a=l.a.useState([]),o=Object(s.a)(a,2),i=o[0],c=o[1];l.a.useEffect((function(){var e=function(e,t){var n=Math.ceil(e.length/t);return Object(r.a)(Array(n)).map((function(e,t){return 0===t?{clicked:!0,num:t}:{clicked:!1,num:t}}))}(t,10);c(e)}),[]);return L("div",{style:$},i.map((function(e){return L("span",{className:"text-center",style:(t=e.clicked,{width:40,display:"inline-block",background:"red",padding:".5rem",margin:".5rem",textAlign:"center",lineHeight:"1em",border:"2px solid red",backgroundColor:t?"red":"transparent",color:t?"white":"",height:40,borderRadius:"50%"}),key:e.num,onClick:function(){return function(e){n(e),c(i.map((function(t){return t.num===e?H(H({},t),{},{clicked:!0}):H(H({},t),{},{clicked:!1})})))}(e.num)}},e.num+1);var t})))}},"eD//":function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),c=n("H2TA"),s=n("MquD"),d=o.forwardRef((function(e,t){var n=e.children,c=e.classes,d=e.className,l=e.component,u=void 0===l?"ul":l,p=e.dense,m=void 0!==p&&p,f=e.disablePadding,b=void 0!==f&&f,g=e.subheader,v=Object(r.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),h=o.useMemo((function(){return{dense:m}}),[m]);return o.createElement(s.a.Provider,{value:h},o.createElement(u,Object(a.a)({className:Object(i.a)(c.root,d,m&&c.dense,!b&&c.padding,g&&c.subheader),ref:t},v),g,n))}));t.a=Object(c.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(d)},tVbE:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=(n("17x9"),n("iuhU")),c=n("H2TA"),s=n("VD++"),d=n("ucBr"),l=n("bfFb"),u=n("MquD"),p=n("i8i4"),m="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var n=e.alignItems,c=void 0===n?"center":n,f=e.autoFocus,b=void 0!==f&&f,g=e.button,v=void 0!==g&&g,h=e.children,y=e.classes,j=e.className,O=e.component,x=e.ContainerComponent,w=void 0===x?"li":x,E=e.ContainerProps,N=(E=void 0===E?{}:E).className,C=Object(r.a)(E,["className"]),P=e.dense,D=void 0!==P&&P,S=e.disabled,k=void 0!==S&&S,T=e.disableGutters,I=void 0!==T&&T,A=e.divider,R=void 0!==A&&A,V=e.focusVisibleClassName,q=e.selected,M=void 0!==q&&q,F=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),_=o.useContext(u.a),L={dense:D||_.dense||!1,alignItems:c},U=o.useRef(null);m((function(){b&&U.current&&U.current.focus()}),[b]);var H=o.Children.toArray(h),z=H.length&&Object(d.a)(H[H.length-1],["ListItemSecondaryAction"]),B=o.useCallback((function(e){U.current=p.findDOMNode(e)}),[]),$=Object(l.a)(B,t),Z=Object(a.a)({className:Object(i.a)(y.root,j,L.dense&&y.dense,!I&&y.gutters,R&&y.divider,k&&y.disabled,v&&y.button,"center"!==c&&y.alignItemsFlexStart,z&&y.secondaryAction,M&&y.selected),disabled:k},F),J=O||"li";return v&&(Z.component=O||"div",Z.focusVisibleClassName=Object(i.a)(y.focusVisible,V),J=s.a),z?(J=Z.component||O?J:"div","li"===w&&("li"===J?J="div":"li"===Z.component&&(Z.component="div")),o.createElement(u.a.Provider,{value:L},o.createElement(w,Object(a.a)({className:Object(i.a)(y.container,N),ref:$},C),o.createElement(J,Z,H),H.pop()))):o.createElement(u.a.Provider,{value:L},o.createElement(J,Object(a.a)({ref:$},Z),H))}));t.a=Object(c.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)}},[["Fu9w",0,1,9,2,3,4,5,6,7]]]);