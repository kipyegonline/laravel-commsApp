_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{"7Cbv":function(e,r,t){"use strict";var n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function a(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var p=[],s=0;s<256;++s)p.push((s+256).toString(16).substr(1));var i=function(e,r){var t=r||0,n=p;return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()};r.a=function(e,r,t){"string"===typeof e&&(r="binary"===e?new Uint8Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){for(var o=t||0,p=0;p<16;++p)r[o+p]=n[p];return r}return i(n)}},Hdft:function(e,r,t){"use strict";t.r(r);var n=t("ODXe"),o=t("q1tI"),a=t.n(o),p=t("tRbT"),s=t("NrVZ"),i=t("Z3vd"),u=t("/EAt"),l=t("Imu7"),c=t("sRsu"),d=t("3PeG"),m=t("Uf6+"),f=t("R/WZ"),y=t("/MKj"),h=t("7pcq"),b=t("wx14"),g=t("hlFM"),v=(t("tVbE"),t("Spdj"),t("56Ss"),t("nCZa")),j=t("PsDL"),w=t("3Qh7"),O=t("LYUY"),x=Object(O.a)(a.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),K=t("l1im"),E=a.a.createElement;var N=function(e){var r=e.users,t=void 0===r?[]:r,o=e.deleteKey,p=void 0===o?function(e){return e}:o,s=e.editKey,i=void 0===s?function(e){return e}:s,u=a.a.useState(0),l=Object(n.a)(u,2),c=l[0],d=l[1],m=t.length>10?10:t.length,f=Math.ceil(t.length/m),y=c*m,h=c*m+m;return E(a.a.Fragment,null,E("p",{className:"alert alert-info text-center p-1 w-100 my-1"},t.length>0?"".concat(t.length," users"):""),E(P,{users:t.slice(y,h),deleteKey:p,editKey:i,start:y}),t.length>0?E(g.a,null,E(K.a,{color:"primary",count:f,defaultValue:c+1,size:"large",onChange:function(e,r){return d(r-1)}})):null)},P=function(e){var r=e.users,t=void 0===r?[]:r,n=e.deleteKey,o=void 0===n?function(e){return e}:n,a=e.editKey,p=void 0===a?function(e){return e}:a,s=e.start,i=void 0===s?0:s;return E(v.a,null,E(u.a,null,E(l.a,null,E(c.a,null,E(d.a,null,"#"),E(d.a,null,"Name"),E(d.a,null,"Department"),E(d.a,null,"Title"),E(d.a,null,"Email"),E(d.a,null,"Phone"),E(d.a,null,"Edit"),E(d.a,null,"Delete"))),E(m.a,null,t.map((function(e,r){return E(S,Object(b.a)({key:e.id},e,{deleteKey:o,editKey:p,index:r+i}))})))))},C=function(e){var r=e.username,t=e.id,n=(e.department,e.userdept,e.userphone),o=e.useremail,a=e.usertitle,p=e.deleteKey,s=e.editKey,i=e.dept,u=e.index;return E(c.a,null,E(d.a,null,u+1),E(d.a,null,r),E(d.a,null,i),E(d.a,null,a),E(d.a,null,o),E(d.a,null,n),E(d.a,null,E(j.a,{onClick:function(){return s(t)}},E(x,{color:"primary"}))),E(d.a,null,E(j.a,{onClick:function(){return p(t)}},E(w.a,{color:"secondary"}))))},S=a.a.memo(C,(function(e,r){return e.id===r.id})),A=t("L6Je"),R=t("Lv++"),k=t("tm1B"),T=t("5jqn"),U=a.a.createElement,D=Object(f.a)({root:{background:"#fff",padding:".75rem",margin:".75rem auto",width:"30%","@media (max-width:480px)":{background:"#fff",marginBottom:"1rem",flexDirection:"column",width:"100%"},"@media (max-width:768px)":{background:"#fff",marginBottom:"1rem",flexDirection:"column",width:"90%"}},container:{border:"1px solid yellow",width:"100%"}});r.default=function(){var e=D(),r=a.a.useState({}),t=Object(n.a)(r,2),o=t[0],u=t[1],l=a.a.useState(!1),c=Object(n.a)(l,2),d=c[0],m=c[1],f=a.a.useState(!1),b=Object(n.a)(f,2),g=(b[0],b[1]),v=Object(y.b)(),j=function(){Object(R.c)("./server/users/users.php?fetchusers=true").then((function(e){return v(T.a(e))}))};a.a.useEffect((function(){Promise.all([void Object(R.c)("../server/departments/departments.php?fetchdepts=true").then((function(e){return v(k.a(e))})),j(),Object(R.e)("../server/users/users.php?fetchuserdeptstats=true",v)])}),[]);var w=Object(y.c)((function(e){return{departments:e.departments.departments,users:e.users.users,tableUsers:e.users.userStats,sectionUsers:e.users.sectionUsers,department:e.users.department}})),O=w.departments,x=w.users,K=w.tableUsers,E=w.sectionUsers,P=w.department,C=function(e,r){return Object(R.b)(e,r,v)};return U(A.a,null,U(p.a,{container:!0,spacing:1,className:"mx-auto my-1",alignItems:"flex-start",direction:"row-reverse",justify:"center",grow:1},U(p.a,{item:!0,md:4,xs:12,className:"".concat(e.root," mt-5"),component:"div"},U(h.c,d?{depts:O,isEditing:d,setEdit:u,Edit:o,title:"Edit User ",url:"./server/users/users.php?edituser=true",updateData:C,closeEditor:function(){return m(!1)}}:{depts:O,isEditing:d,updateData:C,title:"Add User",url:"./server/users/users.php?adduser=true"}),K.length>0?U(_,{users:x,depts:K}):null),U(p.a,{item:!0,md:8,xs:12,className:"".concat(e.root," my-1"),component:"div"},U(p.a,{container:!0},U(p.a,{item:!0}," ",O.length>0?U(h.a,{depts:O,department:P,sendValue:R.f}):null),U(p.a,{item:!0}," ",U(h.b,{getSearch:R.d})),U(p.a,{item:!0},U(s.a,{className:" ml-3 mt-4"},U(i.a,{variant:"outlined",color:"primary",className:" mr-2",size:"small",onClick:j},"See All"),U(i.a,{variant:"contained",color:"primary",size:"small",className:" ml-2",onClick:function(){return m(!1)}},d?"Editing user":"Add User")))),E.length>0?U(N,{users:E,deleteKey:function(e){confirm("Delete user?")&&Object(R.a)(e,v)},editKey:function(e){var r=x.find((function(r){return r.id===e}));r&&(u(r),m(!0),g(!0))}}):null)))};var _=function(e){var r=e.users,t=void 0===r?[]:r,n=e.depts,o=void 0===n?[]:n;return U(u.a,null,U("caption",null,t.length," members from",o.length," departments"),U(l.a,null,U(c.a,null,U(d.a,{scope:"col"},"Department"),U(d.a,{scope:"col"},"Members"))),U(m.a,null,o.map((function(e){return U(z,{key:e.dept,user:e})}))))},z=function(e){var r=e.user,t=void 0===r?[]:r;return U(c.a,null,U(d.a,null,t.dept),U(d.a,null,t.members))}},hlFM:function(e,r,t){"use strict";var n=t("KQm4"),o=t("wx14"),a=(t("17x9"),t("bv9d"));var p=function(e){var r=function(r){var t=e(r);return r.css?Object(o.a)(Object(o.a)({},Object(a.a)(t,e(Object(o.a)({theme:r.theme},r.css)))),function(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}(r.css,[e.filterProps])):t};return r.propTypes={},r.filterProps=["css"].concat(Object(n.a)(e.filterProps)),r};var s=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=function(e){return r.reduce((function(r,t){var n=t(e);return n?Object(a.a)(r,n):r}),{})};return n.propTypes={},n.filterProps=r.reduce((function(e,r){return e.concat(r.filterProps)}),[]),n},i=t("rePB"),u=t("LybE");function l(e,r){return r&&"string"===typeof r?r.split(".").reduce((function(e,r){return e&&e[r]?e[r]:null}),e):null}var c=function(e){var r=e.prop,t=e.cssProperty,n=void 0===t?e.prop:t,o=e.themeKey,a=e.transform,p=function(e){if(null==e[r])return null;var t=e[r],p=l(e.theme,o)||{};return Object(u.a)(e,t,(function(e){var r;return"function"===typeof p?r=p(e):Array.isArray(p)?r=p[e]||e:(r=l(p,e)||e,a&&(r=a(r))),!1===n?r:Object(i.a)({},n,r)}))};return p.propTypes={},p.filterProps=[r],p};function d(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var m=s(c({prop:"border",themeKey:"borders",transform:d}),c({prop:"borderTop",themeKey:"borders",transform:d}),c({prop:"borderRight",themeKey:"borders",transform:d}),c({prop:"borderBottom",themeKey:"borders",transform:d}),c({prop:"borderLeft",themeKey:"borders",transform:d}),c({prop:"borderColor",themeKey:"palette"}),c({prop:"borderRadius",themeKey:"shape"})),f=s(c({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),c({prop:"display"}),c({prop:"overflow"}),c({prop:"textOverflow"}),c({prop:"visibility"}),c({prop:"whiteSpace"})),y=s(c({prop:"flexBasis"}),c({prop:"flexDirection"}),c({prop:"flexWrap"}),c({prop:"justifyContent"}),c({prop:"alignItems"}),c({prop:"alignContent"}),c({prop:"order"}),c({prop:"flex"}),c({prop:"flexGrow"}),c({prop:"flexShrink"}),c({prop:"alignSelf"}),c({prop:"justifyItems"}),c({prop:"justifySelf"})),h=s(c({prop:"gridGap"}),c({prop:"gridColumnGap"}),c({prop:"gridRowGap"}),c({prop:"gridColumn"}),c({prop:"gridRow"}),c({prop:"gridAutoFlow"}),c({prop:"gridAutoColumns"}),c({prop:"gridAutoRows"}),c({prop:"gridTemplateColumns"}),c({prop:"gridTemplateRows"}),c({prop:"gridTemplateAreas"}),c({prop:"gridArea"})),b=s(c({prop:"position"}),c({prop:"zIndex",themeKey:"zIndex"}),c({prop:"top"}),c({prop:"right"}),c({prop:"bottom"}),c({prop:"left"})),g=s(c({prop:"color",themeKey:"palette"}),c({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),v=c({prop:"boxShadow",themeKey:"shadows"});function j(e){return e<=1?"".concat(100*e,"%"):e}var w=c({prop:"width",transform:j}),O=c({prop:"maxWidth",transform:j}),x=c({prop:"minWidth",transform:j}),K=c({prop:"height",transform:j}),E=c({prop:"maxHeight",transform:j}),N=c({prop:"minHeight",transform:j}),P=(c({prop:"size",cssProperty:"width",transform:j}),c({prop:"size",cssProperty:"height",transform:j}),s(w,O,x,K,E,N,c({prop:"boxSizing"}))),C=t("+Hmc"),S=s(c({prop:"fontFamily",themeKey:"typography"}),c({prop:"fontSize",themeKey:"typography"}),c({prop:"fontStyle",themeKey:"typography"}),c({prop:"fontWeight",themeKey:"typography"}),c({prop:"letterSpacing"}),c({prop:"lineHeight"}),c({prop:"textAlign"})),A=t("Ff2n"),R=t("q1tI"),k=t.n(R),T=t("iuhU"),U=t("2mql"),D=t.n(U),_=t("RD7I");function z(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}var V=t("cNwE"),I=function(e){var r=function(e){return function(r){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.name,p=Object(A.a)(n,["name"]),s=a,i="function"===typeof r?function(e){return{root:function(t){return r(Object(o.a)({theme:e},t))}}}:{root:r},u=Object(_.a)(i,Object(o.a)({Component:e,name:a||e.displayName,classNamePrefix:s},p));r.filterProps&&(t=r.filterProps,delete r.filterProps),r.propTypes&&(r.propTypes,delete r.propTypes);var l=k.a.forwardRef((function(r,n){var a=r.children,p=r.className,s=r.clone,i=r.component,l=Object(A.a)(r,["children","className","clone","component"]),c=u(r),d=Object(T.a)(c.root,p),m=l;if(t&&(m=z(m,t)),s)return k.a.cloneElement(a,Object(o.a)({className:Object(T.a)(a.props.className,d)},m));if("function"===typeof a)return a(Object(o.a)({className:d},m));var f=i||e;return k.a.createElement(f,Object(o.a)({ref:n,className:d},m),a)}));return D()(l,e),l}}(e);return function(e,t){return r(e,Object(o.a)({defaultTheme:V.a},t))}},L=p(s(m,f,y,h,b,g,v,P,C.b,S)),M=I("div")(L,{name:"MuiBox"});r.a=M},pgvA:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t("Hdft")}])}},[["pgvA",0,1,9,2,3,4,5,6,7,8,10,15,13]]]);