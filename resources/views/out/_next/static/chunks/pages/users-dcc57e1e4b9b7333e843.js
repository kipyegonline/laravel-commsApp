_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[34],{Hdft:function(e,t,n){"use strict";n.r(t);var a=n("ODXe"),r=n("q1tI"),s=n.n(r),l=n("tRbT"),u=n("NrVZ"),i=n("Z3vd"),o=n("/EAt"),c=n("Imu7"),d=n("sRsu"),m=n("3PeG"),p=n("Uf6+"),f=n("R/WZ"),b=n("/MKj"),h=n("7pcq"),g=n("wx14"),v=n("hlFM"),j=(n("tVbE"),n("Spdj"),n("56Ss"),n("nCZa")),y=n("PsDL"),w=n("3Qh7"),O=n("LYUY"),E=Object(O.a)(s.a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),x=n("l1im"),N=s.a.createElement;var K=function(e){var t=e.users,n=void 0===t?[]:t,r=e.deleteKey,l=void 0===r?function(e){return e}:r,u=e.editKey,i=void 0===u?function(e){return e}:u,o=s.a.useState(0),c=Object(a.a)(o,2),d=c[0],m=c[1],p=n.length>10?10:n.length,f=Math.ceil(n.length/p),b=d*p,h=d*p+p;return N(s.a.Fragment,null,N("p",{className:"alert alert-info text-center p-1 w-100 my-1"},n.length>0?"".concat(n.length," users"):""),N(k,{users:n.slice(b,h),deleteKey:l,editKey:i,start:b}),n.length>0?N(v.a,null,N(x.a,{color:"primary",count:f,defaultValue:d+1,size:"large",onChange:function(e,t){return m(t-1)}})):null)},k=function(e){var t=e.users,n=void 0===t?[]:t,a=e.deleteKey,r=void 0===a?function(e){return e}:a,s=e.editKey,l=void 0===s?function(e){return e}:s,u=e.start,i=void 0===u?0:u;return N(j.a,null,N(o.a,null,N(c.a,null,N(d.a,null,N(m.a,null,"#"),N(m.a,null,"Name"),N(m.a,null,"Department"),N(m.a,null,"Title"),N(m.a,null,"Email"),N(m.a,null,"Phone"),N(m.a,null,"Edit"),N(m.a,null,"Delete"))),N(p.a,null,n.map((function(e,t){return N(S,Object(g.a)({key:e.id},e,{deleteKey:r,editKey:l,index:t+i}))})))))},_=function(e){var t=e.username,n=e.id,a=(e.department,e.userdept,e.userphone),r=e.useremail,s=e.usertitle,l=e.deleteKey,u=e.editKey,i=e.dept,o=e.index;return N(d.a,null,N(m.a,null,o+1),N(m.a,null,t),N(m.a,null,i),N(m.a,null,s),N(m.a,null,r),N(m.a,null,a),N(m.a,null,N(y.a,{onClick:function(){return u(n)}},N(E,{color:"primary"}))),N(m.a,null,N(y.a,{onClick:function(){return l(n)}},N(w.a,{color:"secondary"}))))},S=s.a.memo(_,(function(e,t){return e.id===t.id})),U=n("L6Je"),D=n("Lv++"),I=n("tm1B"),L=n("5jqn"),A=s.a.createElement,C=Object(f.a)({root:{background:"#fff",padding:".75rem",margin:".75rem auto",width:"30%","@media (max-width:480px)":{background:"#fff",marginBottom:"1rem",flexDirection:"column",width:"100%"},"@media (max-width:768px)":{background:"#fff",marginBottom:"1rem",flexDirection:"column",width:"90%"}},container:{border:"1px solid yellow",width:"100%"}});t.default=function(){var e=C(),t=s.a.useState({}),n=Object(a.a)(t,2),r=n[0],o=n[1],c=s.a.useState(!1),d=Object(a.a)(c,2),m=d[0],p=d[1],f=s.a.useState(!1),g=Object(a.a)(f,2),v=(g[0],g[1]),j=Object(b.b)(),y=function(){Object(D.c)("/users/fetchusers").then((function(e){return j(L.a(e))}))};s.a.useEffect((function(){Promise.all([void Object(D.c)("/departments/fetchdepts/true").then((function(e){return j(I.a(e))})),y(),Object(D.e)("/users/fetchuserdeptstats",j)])}),[]);var w=Object(b.c)((function(e){return{departments:e.departments.departments,users:e.users.users,tableUsers:e.users.userStats,sectionUsers:e.users.sectionUsers,department:e.users.department}})),O=w.departments,E=w.users,x=w.tableUsers,N=w.sectionUsers,k=w.department,_=function(e,t){return Object(D.b)(e,t,j)};return A(U.a,null,A(l.a,{container:!0,spacing:1,className:"mx-auto my-1",alignItems:"flex-start",direction:"row-reverse",justify:"center",grow:1},A(l.a,{item:!0,md:4,xs:12,className:"".concat(e.root," mt-5"),component:"div"},A(h.c,m?{depts:O,isEditing:m,setEdit:o,Edit:r,title:"Edit User ",url:"./server/users/users.php?edituser=true",updateData:_,closeEditor:function(){return p(!1)}}:{depts:O,isEditing:m,updateData:_,title:"Add User",url:"./server/users/users.php?adduser=true"}),x.length>0?A(M,{users:E,depts:x}):null),A(l.a,{item:!0,md:8,xs:12,className:"".concat(e.root," my-1"),component:"div"},A(l.a,{container:!0},A(l.a,{item:!0}," ",O.length>0?A(h.a,{depts:O,department:k,sendValue:D.f}):null),A(l.a,{item:!0}," ",A(h.b,{getSearch:D.d})),A(l.a,{item:!0},A(u.a,{className:" ml-3 mt-4"},A(i.a,{variant:"outlined",color:"primary",className:" mr-2",size:"small",onClick:y},"See All"),A(i.a,{variant:"contained",color:"primary",size:"small",className:" ml-2",onClick:function(){return p(!1)}},m?"Editing user":"Add User")))),N.length>0?A(K,{users:N,deleteKey:function(e){confirm("Delete user?")&&Object(D.a)(e,j)},editKey:function(e){var t=E.find((function(t){return t.id===e}));t&&(o(t),p(!0),v(!0))}}):null)))};var M=function(e){var t=e.users,n=void 0===t?[]:t,a=e.depts,r=void 0===a?[]:a;return A(o.a,null,A("caption",null,n.length," members from",r.length," departments"),A(c.a,null,A(d.a,null,A(m.a,{scope:"col"},"Department"),A(m.a,{scope:"col"},"Members"))),A(p.a,null,r.map((function(e){return A(P,{key:e.dept,user:e})}))))},P=function(e){var t=e.user,n=void 0===t?[]:t;return A(d.a,null,A(m.a,null,n.dept),A(m.a,null,n.members))}},jjAL:function(e,t,n){"use strict";var a=n("Ff2n"),r=n("rePB"),s=n("wx14"),l=n("q1tI"),u=(n("17x9"),n("iuhU")),i=n("H2TA"),o=n("tVbE"),c=l.forwardRef((function(e,t){var n,r=e.classes,i=e.className,c=e.component,d=void 0===c?"li":c,m=e.disableGutters,p=void 0!==m&&m,f=e.ListItemClasses,b=e.role,h=void 0===b?"menuitem":b,g=e.selected,v=e.tabIndex,j=Object(a.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==v?v:-1),l.createElement(o.a,Object(s.a)({button:!0,role:h,tabIndex:n,component:d,selected:g,disableGutters:p,classes:Object(s.a)({dense:r.dense},f),className:Object(u.a)(r.root,i,g&&r.selected,!p&&r.gutters),ref:t},j))}));t.a=Object(i.a)((function(e){return{root:Object(s.a)(Object(s.a)({},e.typography.body1),{},Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(s.a)(Object(s.a)({},e.typography.body2),{},{minHeight:"auto"})}}),{name:"MuiMenuItem"})(c)},pgvA:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return n("Hdft")}])}},[["pgvA",0,1,11,2,3,4,5,6,7,8,9,15,13]]]);