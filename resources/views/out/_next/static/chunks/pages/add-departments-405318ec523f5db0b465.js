_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"56Ss":function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("MquD"),u=o.forwardRef((function(e,t){var a=e.classes,s=e.className,u=Object(r.a)(e,["classes","className"]),d=o.useContext(c.a);return o.createElement("div",Object(n.a)({className:Object(i.a)(a.root,s,"flex-start"===d.alignItems&&a.alignItemsFlexStart),ref:t},u))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(u)},"7Cbv":function(e,t,a){"use strict";var n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var i=[],s=0;s<256;++s)i.push((s+256).toString(16).substr(1));var c=function(e,t){var a=t||0,n=i;return(n[e[a+0]]+n[e[a+1]]+n[e[a+2]]+n[e[a+3]]+"-"+n[e[a+4]]+n[e[a+5]]+"-"+n[e[a+6]]+n[e[a+7]]+"-"+n[e[a+8]]+n[e[a+9]]+"-"+n[e[a+10]]+n[e[a+11]]+n[e[a+12]]+n[e[a+13]]+n[e[a+14]]+n[e[a+15]]).toLowerCase()};t.a=function(e,t,a){"string"===typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){for(var r=a||0,i=0;i<16;++i)t[r+i]=n[i];return t}return c(n)}},FrwU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},Fu9w:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-departments",function(){return a("Z+ix")}])},MPUk:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},MquD:function(e,t,a){"use strict";var n=a("q1tI"),r=n.createContext({});t.a=r},"Z+ix":function(e,t,a){"use strict";a.r(t),a.d(t,"AddUsers",(function(){return z}));var n=a("o0o1"),r=a.n(n),o=a("HaE+"),i=a("ODXe"),s=a("q1tI"),c=a.n(s),u=a("pdwK"),d=a("1AYd"),l=a("ADg1"),p=a("Z3vd"),m=a("tRbT"),f=a("l1im"),g=a("7Cbv"),b=a("Spdj"),v=a("R/WZ"),h=a("17x9"),y=a.n(h),j=a("EVdn"),O=a.n(j),x=a("/MKj"),w=a("L6Je"),C=a("eD//"),E=a("tVbE"),N=a("56Ss"),P=a("FrwU"),S=a.n(P),D=a("MPUk"),T=a.n(D),k=a("tm1B"),I=c.a.createElement,V=function(e){var t=e.depts,a=e.currentPage,n=e.perpage,r=e.sendValue,o=void 0===r?function(e){return e}:r,i=e.setEditing,s=void 0===i?function(e){return e}:i,u=Object(x.b)();return I(c.a.Fragment,null,I(C.a,null,void 0!==t?t.slice(a*n,a*n+n).map((function(e,t){return I(E.a,{key:e.id,divider:!0},t+1+a*n,".",e.department," ",I(N.a,{className:" ml-5 float-right"},I(S.a,{color:"secondary",onClick:function(){return t=e.id,void(confirm("Are you sure about it?")&&(console.log(t),u(k.b(t)),fetch("../../server/departments/departments.php?deletedept=true&id=".concat(t)).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log("delete",e)}))));var t}})," ","|"," ",I(T.a,{color:"primary",onClick:function(){return function(e){o(e),s(!0)}(e)}})))})):""))};V.defautlProps={depts:[]};var R=V,A=(a("9jvC"),a("rePB")),M=c.a.createElement;function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=function(e){var t=e.data,a=void 0===t?{}:t,n=e.fetchDepts,r=void 0===n?function(e){return e}:n,o=c.a.useRef(null),s=c.a.useState(""),m=Object(i.a)(s,2),f=m[0],g=m[1],v=c.a.useState(""),h=Object(i.a)(v,2),y=h[0],j=h[1],x=c.a.useState(""),w=Object(i.a)(x,2),C=w[0],E=w[1],N=c.a.useState(""),P=Object(i.a)(N,2),S=P[0],D=P[1];return c.a.useEffect((function(){E(a.department),D(a.altName)}),[a]),void 0!==a?M("div",{className:"row"},M("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault();var t=_(_({},a),{},{department:C,altName:S});O.a.ajax({url:"../../server/departments/departments.php?editdept=true",dataType:"json",data:t,type:"POST"}).then((function(e){if(200!==e.status)throw new Error(e.msg);r(),g(e.msg),setTimeout((function(){E(""),D(""),g(""),a={}}),4e3)})).catch((function(e){void 0===e.message?j("Error updating.Try again later"):j(e.message),setTimeout((function(){return j("")}),3e3)}))},ref:o},M(l.a,{className:"my-1"},M(d.a,null,"Department"),M(u.a,{autoFocus:!0,onChange:function(e){return E(e.target.value)},id:"dept",placeholder:"",value:C,inputProps:{"aria-label":"description"}})),M(l.a,null,M(d.a,null,"Short name"),M(u.a,{id:"nickname",onChange:function(e){return D(e.target.value)},placeholder:"",inputProps:{"aria-label":"description"},value:S})),M(b.a,{className:"text-success ml-2 my-2"},f),M(b.a,{className:"text-danger ml-2 mb-2"},y),M(p.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Edit Department"))):null},U=c.a.createElement,L=Object(v.a)({grid:{minWidth:360,width:"32%"}});t.default=function(){var e=c.a.useState({}),t=Object(i.a)(e,2),a=t[0],n=t[1],s=c.a.useState(!1),u=Object(i.a)(s,2),d=u[0],l=u[1],p=c.a.useState(0),g=Object(i.a)(p,2),b=g[0],v=g[1],h=L(),y=Object(x.c)((function(e){return{departments:e.departments.departments}})).departments,j=y.length<10?y.length:10,O=Math.ceil(y.length/j),C=Object(x.b)(),E=function(){var e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/departments/fetchdepts");case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:a=e.sent,C(k.a(a));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("fetch error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){E()}),[]),U(w.a,null,U(m.a,{className:"jumbotron",spacing:3,justify:"center",alignItems:"flex-start",container:!0},U(m.a,{item:!0,className:"card ".concat(h.grid," "),xs:!0},U(z,{fetchDepts:E})),U(m.a,{item:!0,className:"card ".concat(h.grid),xs:!0},U("p",{className:"text-center alert alert-primary my-2"}," ",y.length||""," Departments"),U(R,{depts:y,sendValue:n,currentPage:b,perpage:j,setEditing:l}),y.length>10?U(f.a,{count:O,color:"primary",rounded:!0,page:b+1,defaultPage:1,onChange:function(e,t){return v(t+1)}}):null),U(m.a,{item:!0,className:"card ".concat(h.grid," my-2"),xs:!0},d?U(q,{data:a,setEditing:n,fetchDepts:E}):null)))};var z=function(e){var t=e.fetchDepts,a=Object(s.useState)(""),n=a[0],r=a[1],o=Object(s.useState)(""),i=o[0],m=o[1],f=Object(s.useState)(""),v=f[0],h=f[1],y=Object(s.useState)(""),j=y[0],x=y[1],w=c.a.useRef();return U("form",{style:{margin:"1rem",padding:"1rem",borderRight:"2px solid gray"},noValidate:!0,autoComplete:"off",className:"form",justify:"center",spacing:2,onSubmit:function(e){e.preventDefault(),v.trim().length>0?O.a.ajax({url:"../server/departments/departments.php?adddept=true",type:"POST",dataType:"json",data:{department:v,altName:j,altId:Object(g.a)()}}).then((function(e){if(console.log(e,"feed"),200!==e.status)throw m(""),new Error("Error adding department. Try again later.");m(e.msg),t(),setTimeout((function(){x(""),h(""),w.current.reset(),m("")}),1e3)})).catch((function(e){void 0!==e.message?r(e.message):r("Encountered a connection error.Try again"),console.log(e.message),setTimeout((function(){return r("")}),3e3)})):(r("Add a department"),setTimeout((function(){return r("")}),3e3))},ref:w},U("p",null,"Add company departments"),U(l.a,{className:"my-3"},U(d.a,null,"Add Department"),U(u.a,{onChange:function(e){return h(e.target.value)},id:"dept",placeholder:"",variant:"filled",inputProps:{"aria-label":"description"}})),U(l.a,null,U(d.a,null,"Department short name"),U(u.a,{id:"nickname",onChange:function(e){return x(e.target.value)},placeholder:"",variant:"outlined",inputProps:{"aria-label":"description"}})),U(b.a,{className:"text-success ml-2 my-2"},i),U(b.a,{className:"text-danger ml-2 mb-2"},n),U(p.a,{variant:"contained",size:"medium",type:"submit",color:"primary","aria-label":"move all right"},"Add Department"))};y.a.AddUsers={fetchDepts:y.a.func.isRequired}},"eD//":function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("MquD"),u=o.forwardRef((function(e,t){var a=e.children,s=e.classes,u=e.className,d=e.component,l=void 0===d?"ul":d,p=e.dense,m=void 0!==p&&p,f=e.disablePadding,g=void 0!==f&&f,b=e.subheader,v=Object(r.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),h=o.useMemo((function(){return{dense:m}}),[m]);return o.createElement(c.a.Provider,{value:h},o.createElement(l,Object(n.a)({className:Object(i.a)(s.root,u,m&&s.dense,!g&&s.padding,b&&s.subheader),ref:t},v),b,a))}));t.a=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(u)},tVbE:function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),s=a("H2TA"),c=a("VD++"),u=a("ucBr"),d=a("bfFb"),l=a("MquD"),p=a("i8i4"),m="undefined"===typeof window?o.useEffect:o.useLayoutEffect,f=o.forwardRef((function(e,t){var a=e.alignItems,s=void 0===a?"center":a,f=e.autoFocus,g=void 0!==f&&f,b=e.button,v=void 0!==b&&b,h=e.children,y=e.classes,j=e.className,O=e.component,x=e.ContainerComponent,w=void 0===x?"li":x,C=e.ContainerProps,E=(C=void 0===C?{}:C).className,N=Object(r.a)(C,["className"]),P=e.dense,S=void 0!==P&&P,D=e.disabled,T=void 0!==D&&D,k=e.disableGutters,I=void 0!==k&&k,V=e.divider,R=void 0!==V&&V,A=e.focusVisibleClassName,M=e.selected,F=void 0!==M&&M,_=Object(r.a)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),q=o.useContext(l.a),U={dense:S||q.dense||!1,alignItems:s},L=o.useRef(null);m((function(){g&&L.current&&L.current.focus()}),[g]);var z=o.Children.toArray(h),B=z.length&&Object(u.a)(z[z.length-1],["ListItemSecondaryAction"]),H=o.useCallback((function(e){L.current=p.findDOMNode(e)}),[]),Z=Object(d.a)(H,t),$=Object(n.a)({className:Object(i.a)(y.root,j,U.dense&&y.dense,!I&&y.gutters,R&&y.divider,T&&y.disabled,v&&y.button,"center"!==s&&y.alignItemsFlexStart,B&&y.secondaryAction,F&&y.selected),disabled:T},_),J=O||"li";return v&&($.component=O||"div",$.focusVisibleClassName=Object(i.a)(y.focusVisible,A),J=c.a),B?(J=$.component||O?J:"div","li"===w&&("li"===J?J="div":"li"===$.component&&($.component="div")),o.createElement(l.a.Provider,{value:U},o.createElement(w,Object(n.a)({className:Object(i.a)(y.container,E),ref:Z},N),o.createElement(J,$,z),z.pop()))):o.createElement(l.a.Provider,{value:U},o.createElement(J,Object(n.a)({ref:Z},$),z))}));t.a=Object(s.a)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(f)},yCxk:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI");function r(e){var t=e.controlled,a=e.default,r=(e.name,e.state,n.useRef(void 0!==t).current),o=n.useState(a),i=o[0],s=o[1];return[r?t:i,n.useCallback((function(e){r||s(e)}),[])]}}},[["Fu9w",0,1,9,2,3,4,5,6,7,10]]]);